name: week01
topology:
  nodes:
    # PC1 — lightweight host with networking tools
    pc1:
      kind: linux
      image: wbitt/network-multitool:latest
      exec:
        - ip addr add 192.168.1.10/24 dev eth1
        - ip link set eth1 up

    # PC2 — lightweight host with networking tools
    pc2:
      kind: linux
      image: wbitt/network-multitool:latest
      exec:
        - ip addr add 192.168.1.20/24 dev eth1
        - ip link set eth1 up

    # Switch — Linux container acting as L2 switch
    switch:
      kind: linux
      image: wbitt/network-multitool:latest
      exec:
        - ip link add br0 type bridge
        - ip link set br0 up
        - ip link set eth1 master br0
        - ip link set eth2 master br0

  links:
    - endpoints: ["pc1:eth1", "switch:eth1"]
    - endpoints: ["pc2:eth1", "switch:eth2"]
